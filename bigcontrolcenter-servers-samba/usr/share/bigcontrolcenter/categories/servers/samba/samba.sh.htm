#!/bin/bash

#Panel for BigLinux
#
#Authors:
#  Bruno Goncalves Araujo <www.biglinux.com.br>
#
#License: GPLv2 or later
#################################################


. /usr/share/bigcontrolcenter/default/theme-categories.sh.htm

#Translation
export TEXTDOMAINDIR="/usr/share/locale-langpack"
export TEXTDOMAIN=bigcontrolcenter-servers-samba


echo '
<script language="JavaScript">
window.resizeTo(640,480);
function NoResize(){
  window.resizeTo(640,480);
}
</script>
'

title=$"Samba"
apply=$"Aplicar"
close=$"Sair"
tip_server=$"Ativar, desativar, iniciar automaticamente..."
tip_client=$"Acesse arquivos de outros servidores"
tip_dicas=$"Dicas para acessar seus arquivos na rede"
tip_simples=$"Opcoes basicas para configuracao do servidor"
tip_completo=$"Opcoes para praticamente qualquer tipo de uso do Samba<P>* Algumas configuracoes para entrar em acao necessitam que o servidor seja reiniciado"
tip_restart=$"Reinicia de forma rapida o servidor Samba"
tip_netbios=$"É o nome que esse computador será identificado na rede"
tip_manual=$"Edite o arquivo de configuração do samba"
tip_user=$"Defina o usuário padrão para acessar arquivos em outros computadores da rede"

. /usr/share/bigcontrolcenter/default/theme.sh.htm

cat << EOF
	<script type="text/javascript" src="/usr/share/bigcontrolcenter/default/js/jquery-1.3.2.min.js"></script>


	<script type="text/javascript">
	\$(function() {
		\$("#tabs").tabs({
			event: 'mouseover'
		})
	});

	if (document.images) {
	buttonUp = new Image(); buttonUp.src = "/usr/share/bigcontrolcenter/default/images/category-background.png";
	buttonDown = new Image(); buttonDown.src = "$(echo $HOME)/.bigcontrolcenter/category-background-over.png";
	}

	function turn_off(cell) {
	if (document.images != null) {
	cell.style.backgroundImage = "url('" + buttonUp.src + "')";
	}
	}

	function turn_on(cell) {
	if (document.images != null) {
	cell.style.backgroundImage = "url('" + buttonDown.src + "')";
	}
	}

  </script>





EOF

echo "<title>$title</title><body onResize=\"NoResize();\">"

#header
open_header
echo "$title" '</font><br>' $"Compartilhamento de arquivos e impressoras na rede."
close_header


echo "<TABLE align=center><tr><td>"
    echo "<a href=\"/usr/share/bigbashview/run.run?bigsudo bigbashview /usr/share/bigcontrolcenter/categories/servers/samba/server.sh.htm -i /usr/share/bigcontrolcenter/categories/servers/samba/icon.png\"" "$mouseover_open" $tip_server "$mouseover_close>""<table onmouseout=\"turn_off(this)\" onmouseover=\"turn_on(this)\" $bigbash_categories_background_config background=$bigbash_categories_background><tr><td width=30><img src=server.png></td>"'<td valign="middle">'"$bigbash_categories_font" $"Ativar ou desativar o servidor" " </font></td></tr></table></a>"
echo '</td><td width=100%></td><td>'
    echo "<a href=\"/usr/share/bigbashview/run.run?dolphin smb:/\"" "$mouseover_open" $tip_client "$mouseover_close>""<table onmouseout=\"turn_off(this)\" onmouseover=\"turn_on(this)\" $bigbash_categories_background_config background=$bigbash_categories_background><tr><td width=30><img src=client.png></td>"'<td valign="middle">'"$bigbash_categories_font" $"Acessar arquivos" " </font></td></tr></table></a>"
echo '</td></tr><tr><td>'
    echo "<a href=\"/usr/share/bigbashview/run.run?bigsudo bigsudo system-config-samba\"" "$mouseover_open" $tip_simples "$mouseover_close>""<table onmouseout=\"turn_off(this)\" onmouseover=\"turn_on(this)\" $bigbash_categories_background_config background=$bigbash_categories_background><tr><td width=30><img src=simples.png></td>"'<td valign="middle">'"$bigbash_categories_font" $"Configurar o servidor" " </font></td></tr></table></a>"
echo '</td><td width=100%></td><td>'
    echo "<a href=\"/usr/share/bigcontrolcenter/categories/servers/samba/restart.run\"" "$mouseover_open" $tip_restart "$mouseover_close>""<table onmouseout=\"turn_off(this)\" onmouseover=\"turn_on(this)\" $bigbash_categories_background_config background=$bigbash_categories_background><tr><td width=30><img src=restart.png></td>"'<td valign="middle">'"$bigbash_categories_font" $"Reiniciar o servidor" "</font></td></tr></table></a>"
echo '</td></tr><tr><td>'
    echo "<a href=\"/usr/share/bigbashview/run.run?bigbashview /usr/share/bigcontrolcenter/categories/servers/samba/dicas.sh.htm -i /usr/share/bigcontrolcenter/categories/servers/samba/icon.png\"" "$mouseover_open" $tip_dicas "$mouseover_close>""<table onmouseout=\"turn_off(this)\" onmouseover=\"turn_on(this)\" $bigbash_categories_background_config background=$bigbash_categories_background><tr><td width=30><img src=dicas.png></td>"'<td valign="middle">'"$bigbash_categories_font" $"Dicas de uso" "
</font></td></tr></table></a>"
echo '</td><td width=100%></td><td>'
    echo "<a href=\"/usr/share/bigbashview/run.run?bigsudo bigbashview /usr/share/bigcontrolcenter/categories/servers/samba/netbios.sh.htm -i /usr/share/bigcontrolcenter/categories/servers/samba/icon.png\"" "$mouseover_open" $tip_netbios "$mouseover_close>""<table onmouseout=\"turn_off(this)\" onmouseover=\"turn_on(this)\" $bigbash_categories_background_config background=$bigbash_categories_background><tr><td width=30><img src=netbios.png></td>"'<td valign="middle">'"$bigbash_categories_font" $"Escolher nome do netbios" "</font></td></tr></table></a>"
echo '</td></tr><tr><td>'
    echo "<a href=\"/usr/share/bigbashview/run.run?bigsudo kate /etc/samba/smb.conf\"" "$mouseover_open" $tip_manual "$mouseover_close>""<table onmouseout=\"turn_off(this)\" onmouseover=\"turn_on(this)\" $bigbash_categories_background_config background=$bigbash_categories_background><tr><td width=30><img src=manual.png></td>"'<td valign="middle">'"$bigbash_categories_font" $"Editar arquivo de configuração manualmente" " </font></td></tr></table></a>"
echo '</td><td width=100%></td><td>'
    echo "<a href=\"/usr/share/bigbashview/run.run?kcmshell4 smb\"" "$mouseover_open" $tip_user "$mouseover_close>""<table onmouseout=\"turn_off(this)\" onmouseover=\"turn_on(this)\" $bigbash_categories_background_config background=$bigbash_categories_background><tr><td width=30><img src=user.png></td>"'<td valign="middle">'"$bigbash_categories_font" $"Usuário padrão para acessar arquivos em rede no Samba" "</font></td></tr></table></a>"



    
echo '</table>'


echo "</a></td></tr></table></div><div id=\"rodape\"><button type=button value= $close onClick= parent.location='/usr/share/bigbashview/exemplo2.sh.htm?close=True'>   <img src=\"/usr/share/bigcontrolcenter/default/images/cancel.png\" style=\"vertical-align:top\"  />  $close     </button></div>"

